@page "/CTL_LIBRARY/DOCUMENT/UserInfo"
@inject eProcurementNext.Session.ISession session;
@using eProcurementNext.CommonModule
@using eProcurementNext.CommonDB
@using static eProcurementNext.CommonModule.Basic;
@model eProcurementNext.Razor.Pages.CTL_LIBRARY.DOCUMENT.UserInfoModel
@using static eProcurementNext.Session.SessionMiddleware
@{
    CommonDbFunctions cdf = new CommonDbFunctions();
	LoadSession(HttpContext, session);
	EprocResponse htmlToReturn = new EprocResponse();
}
@{
    string idpfuUtenteCollegato = CStr(session["idpfu"]);
    string idaziUtenteCollegato = CStr(session["idazi"]);
    string type = GetParamURL(Request.QueryString.ToString(), "type");
    switch (type)
    {
        case "azi":
            throw new ResponseRedirectException($"document.asp?MODE=SHOW&lo=drawer&JScript=SCHEDA_ANAGRAFICA&DOCUMENT=DRAWER_SCHEDA_ANAGRAFICA&IDDOC={idaziUtenteCollegato}", Response);
        case "utente":
            throw new ResponseRedirectException($"document.asp?MODE=SHOW&lo=drawer&JScript=USER_DOC_READONLY&DOCUMENT=DRAWER_USER_DOC&IDDOC={idpfuUtenteCollegato}", Response);
        default:
            throw new ResponseRedirectException($"document.asp?MODE=SHOW&lo=drawer&JScript=USER_DOC_READONLY&DOCUMENT=DRAWER_USER_DOC&IDDOC={idpfuUtenteCollegato}", Response);
    }

}