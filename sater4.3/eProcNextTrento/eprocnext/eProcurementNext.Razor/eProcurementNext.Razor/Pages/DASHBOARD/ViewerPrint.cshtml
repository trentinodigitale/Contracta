@page "/DASHBOARD/ViewerPrint.asp"
@using eProcurementNext.Application
@using eProcurementNext.CommonDB
@using eProcurementNext.DashBoard
@using eProcurementNext.CommonModule
@using Microsoft.VisualBasic
@using static eProcurementNext.Razor.Pages.CTL_LIBRARY.functions.intestModel;
@using static eProcurementNext.Razor.Pages.CTL_LIBRARY.functions.cnvModel;
@using static eProcurementNext.Session.SessionMiddleware
@using static eProcurementNext.CommonModule.Basic;
@inject eProcurementNext.Session.ISession session;
@inject IConfiguration configuration;
@model eProcurementNext.Razor.Pages.DASHBOARD.ViewerPrintModel
@{
	Layout = ConfigurationServices.GetKey("LayoutVersion", "_masterPage");
	
}
@{
	LoadSession(HttpContext, session);
	EprocResponse htmlToReturn = new EprocResponse(GetParamURL(HttpContext.Request.QueryString.ToString(), "XML_ATTACH_TYPE"));
}
@{
	string titoloViewer = "Lista";
	if(!string.IsNullOrEmpty(CStr(GetParamURL(Request.QueryString.ToString(), "CAPTION"))))
	{
		titoloViewer = GetParamURL(Request.QueryString.ToString(), "CAPTION");
	}
	//call drawMasterPage("../",titoloViewer)
	void drawContent()
	{
		//'call stackUpdateCurrentPosition("viewer","dashboard/viewerprint.asp?" & request.querystring , titoloViewer)


		//'-- Funzione specifica per ogni pagina di template
		ViewerPrint view = new ViewerPrint(HttpContext, session, htmlToReturn,configuration);
		view.run();
	}
	drawContent();
}@Html.Raw(htmlToReturn.Out())