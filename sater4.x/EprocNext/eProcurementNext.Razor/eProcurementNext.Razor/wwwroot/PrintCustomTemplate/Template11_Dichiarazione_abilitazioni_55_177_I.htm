
 <h1>Abilitazioni</h1>
 <div>
     <div class="inputdiv"><label>Categorie Merceologiche</label>
     <input type="text" name="classeiscriz" size="30">
     </div>
 </div>

<div id="FieldAltraClass" style="display:none;">
<p align="left"><font face="Arial" style="font-size: 10pt">Descrizione</font><font face="Times New Roman" size="3"> 
<input type="text" name="AltraClassificazione" size="30"> 
<div id="HelpAltraClass">
<i><font face="Arial" style="font-size: 9pt; ">(Il campo Descrizione 
deve essere valorizzato solo se è stata selezionata nel campo Classe Iscrizione 
la voce&nbsp; &quot;32.98 - FORNITURE DI SERVIZI NON CLASSIFICATI ALTROVE&quot; o &quot;32.99 - 
FORNITURE DI BENI NON CLASSIFICATI ALTROVE&quot;)</font></i>
</div>
</font>
</div>
<div style="display:none;">
<p align="left">
<font face="Arial" style="font-size: 10pt;">
<span lang="IT">Classificazione CPV</span></font>
<input type="text" name="CARClasMercAzienda" size="30"> <i><font face="Arial" style="font-size: 9pt;"> &nbsp; (facoltativa)</font></i>
</p>
</div>
<input type=hidden id="tempBlur" onFocus="Javascript:this.blur();" >
<input type=hidden id="tempFocus" >




<script language="javascript">

ListAttrib = getObj('ListAttrib_DICHIARAZIONE_abilitazioni').value;
InfoAttrib="";

var strClasseIscriz;
var strAltraClassificazione;
	
if (ListAttrib != ''){
	ainfo=ListAttrib.split('#');
	for (i=0; i < ainfo.length; i++){
		InfoAttrib=ainfo[i];
		ainfo1=ainfo[i].split(';');
		if (ainfo1[0] == 'ClasseIscriz'){
			strClasseIscriz=ainfo1[1];
		}
		if (ainfo1[0] == 'AltraClassificazione'){
			strAltraClassificazione=ainfo1[1];
		}
		
	}	
}	
	
	function CheckIscrizione(){

	 var tempvalue;
	 try {
		objClasseIscr=getObj('Ident_dichiarazione_abilitazioni_' + strClasseIscriz);		

		tempvalue=objClasseIscr.value;
		
// AFSVM002		if (tempvalue.indexOf('99100359', 0) >= 0 || tempvalue.indexOf('99100358', 0) >= 0){
		if (tempvalue.indexOf('99100359', 0) >= 0 || tempvalue.indexOf('99100360', 0) >= 0){
			if (getObj('elemento_dichiarazione_abilitazioni_' + strAltraClassificazione).value == ''){
				getObj('elemento_dichiarazione_abilitazioni_' + strAltraClassificazione).onfocus=getObj('tempFocus').onfocus;
  				alert('Valorizzare il campo Descrizione');
				getObj('elemento_dichiarazione_abilitazioni_' + strAltraClassificazione).focus();		
				return 1;
			}	
			
		}else{
	   	  getObj('elemento_dichiarazione_abilitazioni_' + strAltraClassificazione).value='';
		  getObj('elemento_dichiarazione_abilitazioni_' + strAltraClassificazione).onfocus=getObj('tempBlur').onfocus;		
		}

	 }catch(e){
		//alert(e);
	 }

	 return 0;

	}

        try {
	
	  getObj('elemento_dichiarazione_abilitazioni_' + strClasseIscriz).onblur = CheckIscrizione;
	
	  if (getObj('Stato').value == '2' ){
		try{
			if (getObj('elemento_dichiarazione_abilitazioni_' + strAltraClassificazione).value==''){
				getObj('HelpAltraClass').style.display='none';
				getObj('FieldAltraClass').style.display='none';
			}
		}catch(e){
			getObj('HelpAltraClass').style.display='none';
			getObj('FieldAltraClass').style.display='none';	
		}
	  }
	
	  objClasseIscr=getObj('Ident_dichiarazione_abilitazioni_' + strClasseIscriz);		
	  tempvalue=objClasseIscr.value;
	  if (tempvalue.indexOf('99100359', 0) >= 0 || tempvalue.indexOf('99100360', 0) >= 0){
		getObj('elemento_dichiarazione_abilitazioni_' + strAltraClassificazione).onfocus=getObj('tempFocus').onfocus;
		getObj('elemento_dichiarazione_abilitazioni_' + strAltraClassificazione).focus();		
	  }
	}catch(e){
		//alert(e);
	}

</script>